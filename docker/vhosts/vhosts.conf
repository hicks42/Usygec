<VirtualHost *:80>
    ServerName localhost

    DocumentRoot /var/www/project/app/public
    DirectoryIndex /index.php

    # ProxyPreserveHost On
    # ProxyPass        "/" "http://localhost:8080/"
    # ProxyPassReverse "/" "http://localhost:8080/"

    <Directory /var/www/project/app/public>
        AllowOverride None
        Order Allow,Deny
        Allow from All

        FallbackResource /index.php
    </Directory>

    # uncomment the following lines if you install assets as symlinks
    # or run into problems when compiling LESS/Sass/CoffeeScript assets
    # <Directory /var/www/project>
    #     Options FollowSymlinks
    # </Directory>

    # optionally disable the fallback resource for the asset directories
    # which will allow Apache to return a 404 error when files are
    # not found instead of passing the request to Symfony
    # <Directory /var/www/project/app/public/bundles>
    #     DirectoryIndex disabled
    #     FallbackResource disabled
    # </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # optionally set the value of the environment variables used in the application
    #SetEnv APP_ENV prod
    #SetEnv APP_SECRET <app-secret-id>
    #SetEnv DATABASE_URL "mysql://db_user:db_pass@host:3306/db_name"
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName localhost
    DocumentRoot /var/www/project/app/public

    # LoadModule socache_shmcb_module lib/httpd/modules/mod_socache_shmcb.so
    # LoadModule ssl_module lib/httpd/modules/mod_ssl.so

    SSLEngine on
    SSLCertificateFile /etc/apache2/ssl/mycert.crt
    SSLCertificateKeyFile /etc/apache2/ssl/mycert.key

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # ProxyPass        "/" "https://localhost:443/"
    # ProxyPassReverse "/" "https://localhost:443/"

    # SSLProxyEngine On
    # SSLProxyVerify none
    # SSLProxyCheckPeerCN off
    # SSLProxyCheckPeerName off
    # SSLProxyCheckPeerExpire off
    # ProxyPreserveHost On

    <Directory /var/www/project/app/public>
        AllowOverride None
        Order Allow,Deny
        Allow from All

        FallbackResource /index.php
    </Directory>

    # Include /etc/apache2/sites-available/default-ssl.conf

</VirtualHost>
</IfModule>
